<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="544px" preserveAspectRatio="none" style="width:957px;height:544px;background:#FFFFFF;" version="1.1" viewBox="0 0 957 544" width="957px" zoomAndPan="magnify"><defs/><g><rect height="29.0679" style="stroke:#00000000;stroke-width:1.0;fill:none;" width="171" x="394.75" y="10"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="161" x="399.75" y="29.9659">Receive And Store Data</text><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="36" x2="36" y1="124.1358" y2="461.196"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="157" x2="157" y1="124.1358" y2="461.196"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="358" x2="358" y1="124.1358" y2="461.196"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="552.5" x2="552.5" y1="124.1358" y2="461.196"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="672.5" x2="672.5" y1="124.1358" y2="461.196"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="769.5" x2="769.5" y1="124.1358" y2="461.196"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="816.5" x2="816.5" y1="124.1358" y2="461.196"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="900.5" x2="900.5" y1="124.1358" y2="461.196"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="5" y="120.0339">Supplier</text><ellipse cx="36.5" cy="53.5679" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M36.5,61.5679 L36.5,88.5679 M23.5,69.5679 L49.5,69.5679 M36.5,88.5679 L23.5,103.5679 M36.5,88.5679 L49.5,103.5679 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="5" y="475.1619">Supplier</text><ellipse cx="36.5" cy="487.7639" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M36.5,495.7639 L36.5,522.7639 M23.5,503.7639 L49.5,503.7639 M36.5,522.7639 L23.5,537.7639 M36.5,522.7639 L49.5,537.7639 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="159" x="78" y="90.0679"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="145" x="85" y="112.0339">ProxyRequestHandler</text><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="159" x="78" y="460.196"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="145" x="85" y="482.1619">ProxyRequestHandler</text><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="223" x="247" y="90.0679"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="209" x="254" y="112.0339">ProxyRepositoryStreamHandler</text><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="223" x="247" y="460.196"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="209" x="254" y="482.1619">ProxyRepositoryStreamHandler</text><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="84" x="510.5" y="90.0679"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="517.5" y="112.0339">ProxyRepo</text><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="84" x="510.5" y="460.196"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="517.5" y="482.1619">ProxyRepo</text><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="137" x="604.5" y="90.0679"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123" x="611.5" y="112.0339">ProxyRepoSources</text><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="137" x="604.5" y="460.196"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123" x="611.5" y="482.1619">ProxyRepoSources</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31" x="751.5" y="120.0339">repo</text><path d="M752,69.0679 C752,59.0679 770,59.0679 770,59.0679 C770,59.0679 788,59.0679 788,69.0679 L788,95.0679 C788,105.0679 770,105.0679 770,105.0679 C770,105.0679 752,105.0679 752,95.0679 L752,69.0679 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M752,69.0679 C752,79.0679 770,79.0679 770,79.0679 C770,79.0679 788,79.0679 788,69.0679 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31" x="751.5" y="475.1619">repo</text><path d="M752,489.2639 C752,479.2639 770,479.2639 770,479.2639 C770,479.2639 788,479.2639 788,489.2639 L788,515.2639 C788,525.2639 770,525.2639 770,525.2639 C770,525.2639 752,525.2639 752,515.2639 L752,489.2639 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M752,489.2639 C752,499.2639 770,499.2639 770,499.2639 C770,499.2639 788,499.2639 788,489.2639 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="18" x="804.5" y="120.0339">db</text><path d="M798.5,69.0679 C798.5,59.0679 816.5,59.0679 816.5,59.0679 C816.5,59.0679 834.5,59.0679 834.5,69.0679 L834.5,95.0679 C834.5,105.0679 816.5,105.0679 816.5,105.0679 C816.5,105.0679 798.5,105.0679 798.5,95.0679 L798.5,69.0679 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M798.5,69.0679 C798.5,79.0679 816.5,79.0679 816.5,79.0679 C816.5,79.0679 834.5,79.0679 834.5,69.0679 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="18" x="804.5" y="475.1619">db</text><path d="M798.5,489.2639 C798.5,479.2639 816.5,479.2639 816.5,479.2639 C816.5,479.2639 834.5,479.2639 834.5,489.2639 L834.5,515.2639 C834.5,525.2639 816.5,525.2639 816.5,525.2639 C816.5,525.2639 798.5,525.2639 798.5,515.2639 L798.5,489.2639 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M798.5,489.2639 C798.5,499.2639 816.5,499.2639 816.5,499.2639 C816.5,499.2639 834.5,499.2639 834.5,489.2639 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106" x="844.5" y="120.0339">ChangeListener</text><ellipse cx="900.5" cy="53.5679" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M900.5,61.5679 L900.5,88.5679 M887.5,69.5679 L913.5,69.5679 M900.5,88.5679 L887.5,103.5679 M900.5,88.5679 L913.5,103.5679 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106" x="844.5" y="475.1619">ChangeListener</text><ellipse cx="900.5" cy="487.7639" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M900.5,495.7639 L900.5,522.7639 M887.5,503.7639 L913.5,503.7639 M900.5,522.7639 L887.5,537.7639 M900.5,522.7639 L913.5,537.7639 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#181818" points="145.5,153.8419,155.5,157.8419,145.5,161.8419,149.5,157.8419" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="36.5" x2="151.5" y1="157.8419" y2="157.8419"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67" x="43.5" y="152.0328">HTTP POST</text><polygon fill="#181818" points="346.5,185.5479,356.5,189.5479,346.5,193.5479,350.5,189.5479" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="157.5" x2="352.5" y1="189.5479" y2="189.5479"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="41" x="164.5" y="183.7389">handle</text><polygon fill="#181818" points="540.5,217.2539,550.5,221.2539,540.5,225.2539,544.5,221.2539" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="358.5" x2="546.5" y1="221.2539" y2="221.2539"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="170" x="365.5" y="215.4449">getStroomZipOutputStream</text><line style="stroke:#181818;stroke-width:1.0;" x1="768" x2="758" y1="252.9599" y2="248.9599"/><line style="stroke:#181818;stroke-width:1.0;" x1="768" x2="758" y1="252.9599" y2="256.9599"/><line style="stroke:#181818;stroke-width:1.0;" x1="358.5" x2="769" y1="252.9599" y2="252.9599"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="62" x="365.5" y="247.1509">Write data</text><polygon fill="#181818" points="758,280.6659,768,284.6659,758,288.6659,762,284.6659" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="552.5" x2="764" y1="284.6659" y2="284.6659"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="559.5" y="278.8569">Add meta file</text><polygon fill="#181818" points="758,312.3719,768,316.3719,758,320.3719,762,316.3719" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="552.5" x2="764" y1="316.3719" y2="316.3719"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82" x="559.5" y="310.5629">Unlock zip file</text><line style="stroke:#181818;stroke-width:1.0;" x1="671" x2="661" y1="348.0779" y2="344.0779"/><line style="stroke:#181818;stroke-width:1.0;" x1="671" x2="661" y1="348.0779" y2="352.0779"/><line style="stroke:#181818;stroke-width:1.0;" x1="552.5" x2="672" y1="348.0779" y2="348.0779"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="64" x="559.5" y="342.2689">addSource</text><line style="stroke:#181818;stroke-width:1.0;" x1="814.5" x2="804.5" y1="379.784" y2="375.784"/><line style="stroke:#181818;stroke-width:1.0;" x1="814.5" x2="804.5" y1="379.784" y2="383.784"/><line style="stroke:#181818;stroke-width:1.0;" x1="673" x2="815.5" y1="379.784" y2="379.784"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117" x="680" y="373.975">Add `source` record</text><line style="stroke:#181818;stroke-width:1.0;" x1="898.5" x2="888.5" y1="411.49" y2="415.49"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="673" x2="899.5" y1="411.49" y2="411.49"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="62" x="680" y="405.681">onChange</text><polygon fill="#181818" points="47.5,439.196,37.5,443.196,47.5,447.196,43.5,443.196" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="41.5" x2="156.5" y1="443.196" y2="443.196"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82" x="53.5" y="437.387">200 Response</text><!--MD5=[4980abc22ab0a8676fbcdcec2de5c718]
@startuml

title Receive And Store Data

actor Supplier
participant ProxyRequestHandler
participant ProxyRepositoryStreamHandler
participant ProxyRepo
participant ProxyRepoSources
database repo
database db
actor ChangeListener

Supplier - -> ProxyRequestHandler: HTTP POST
ProxyRequestHandler -> ProxyRepositoryStreamHandler: handle
ProxyRepositoryStreamHandler -> ProxyRepo: getStroomZipOutputStream
ProxyRepositoryStreamHandler ->> repo: Write data
ProxyRepo -> repo: Add meta file
ProxyRepo -> repo: Unlock zip file
ProxyRepo ->> ProxyRepoSources: addSource
ProxyRepoSources ->> db: Add `source` record
ProxyRepoSources - -// ChangeListener: onChange
ProxyRequestHandler - -> Supplier: 200 Response


@enduml

PlantUML version 1.2022.4(Sat Apr 09 14:29:17 BST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: GB
--></g></svg>