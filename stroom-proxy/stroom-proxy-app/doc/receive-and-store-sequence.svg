<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="553px" preserveAspectRatio="none" style="width:969px;height:553px;background:#FFFFFF;" version="1.1" viewBox="0 0 969 553" width="969px" zoomAndPan="magnify"><defs><filter height="300%" id="f10snqyaanlylh" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="198" x="387.75" y="31.2419">Receive And Store Data</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="36" x2="36" y1="129.5838" y2="466.6439"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="159" x2="159" y1="129.5838" y2="466.6439"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="364" x2="364" y1="129.5838" y2="466.6439"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="558.5" x2="558.5" y1="129.5838" y2="466.6439"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="682.5" x2="682.5" y1="129.5838" y2="466.6439"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="781.5" x2="781.5" y1="129.5838" y2="466.6439"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="828.5" x2="828.5" y1="129.5838" y2="466.6439"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="912.5" x2="912.5" y1="129.5838" y2="466.6439"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="5" y="125.4818">Supplier</text><ellipse cx="36.5" cy="53.5158" fill="#FEFECE" filter="url(#f10snqyaanlylh)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M36.5,61.5158 L36.5,88.5158 M23.5,69.5158 L49.5,69.5158 M36.5,88.5158 L23.5,103.5158 M36.5,88.5158 L49.5,103.5158 " fill="none" filter="url(#f10snqyaanlylh)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="5" y="480.6099">Supplier</text><ellipse cx="36.5" cy="494.7118" fill="#FEFECE" filter="url(#f10snqyaanlylh)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M36.5,502.7118 L36.5,529.7118 M23.5,510.7118 L49.5,510.7118 M36.5,529.7118 L23.5,544.7118 M36.5,529.7118 L49.5,544.7118 " fill="none" filter="url(#f10snqyaanlylh)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#f10snqyaanlylh)" height="33.0679" style="stroke:#A80036;stroke-width:1.5;" width="159" x="78" y="91.5158"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="145" x="85" y="113.4818">ProxyRequestHandler</text><rect fill="#FEFECE" filter="url(#f10snqyaanlylh)" height="33.0679" style="stroke:#A80036;stroke-width:1.5;" width="159" x="78" y="465.6439"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="145" x="85" y="487.6099">ProxyRequestHandler</text><rect fill="#FEFECE" filter="url(#f10snqyaanlylh)" height="33.0679" style="stroke:#A80036;stroke-width:1.5;" width="223" x="251" y="91.5158"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="209" x="258" y="113.4818">ProxyRepositoryStreamHandler</text><rect fill="#FEFECE" filter="url(#f10snqyaanlylh)" height="33.0679" style="stroke:#A80036;stroke-width:1.5;" width="223" x="251" y="465.6439"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="209" x="258" y="487.6099">ProxyRepositoryStreamHandler</text><rect fill="#FEFECE" filter="url(#f10snqyaanlylh)" height="33.0679" style="stroke:#A80036;stroke-width:1.5;" width="84" x="514.5" y="91.5158"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="521.5" y="113.4818">ProxyRepo</text><rect fill="#FEFECE" filter="url(#f10snqyaanlylh)" height="33.0679" style="stroke:#A80036;stroke-width:1.5;" width="84" x="514.5" y="465.6439"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="521.5" y="487.6099">ProxyRepo</text><rect fill="#FEFECE" filter="url(#f10snqyaanlylh)" height="33.0679" style="stroke:#A80036;stroke-width:1.5;" width="137" x="612.5" y="91.5158"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123" x="619.5" y="113.4818">ProxyRepoSources</text><rect fill="#FEFECE" filter="url(#f10snqyaanlylh)" height="33.0679" style="stroke:#A80036;stroke-width:1.5;" width="137" x="612.5" y="465.6439"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123" x="619.5" y="487.6099">ProxyRepoSources</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31" x="763.5" y="125.4818">repo</text><path d="M764,74.5158 C764,64.5158 782,64.5158 782,64.5158 C782,64.5158 800,64.5158 800,74.5158 L800,100.5158 C800,110.5158 782,110.5158 782,110.5158 C782,110.5158 764,110.5158 764,100.5158 L764,74.5158 " fill="#FEFECE" filter="url(#f10snqyaanlylh)" style="stroke:#000000;stroke-width:1.5;"/><path d="M764,74.5158 C764,84.5158 782,84.5158 782,84.5158 C782,84.5158 800,84.5158 800,74.5158 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31" x="763.5" y="480.6099">repo</text><path d="M764,494.7118 C764,484.7118 782,484.7118 782,484.7118 C782,484.7118 800,484.7118 800,494.7118 L800,520.7118 C800,530.7118 782,530.7118 782,530.7118 C782,530.7118 764,530.7118 764,520.7118 L764,494.7118 " fill="#FEFECE" filter="url(#f10snqyaanlylh)" style="stroke:#000000;stroke-width:1.5;"/><path d="M764,494.7118 C764,504.7118 782,504.7118 782,504.7118 C782,504.7118 800,504.7118 800,494.7118 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="18" x="816.5" y="125.4818">db</text><path d="M810.5,74.5158 C810.5,64.5158 828.5,64.5158 828.5,64.5158 C828.5,64.5158 846.5,64.5158 846.5,74.5158 L846.5,100.5158 C846.5,110.5158 828.5,110.5158 828.5,110.5158 C828.5,110.5158 810.5,110.5158 810.5,100.5158 L810.5,74.5158 " fill="#FEFECE" filter="url(#f10snqyaanlylh)" style="stroke:#000000;stroke-width:1.5;"/><path d="M810.5,74.5158 C810.5,84.5158 828.5,84.5158 828.5,84.5158 C828.5,84.5158 846.5,84.5158 846.5,74.5158 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="18" x="816.5" y="480.6099">db</text><path d="M810.5,494.7118 C810.5,484.7118 828.5,484.7118 828.5,484.7118 C828.5,484.7118 846.5,484.7118 846.5,494.7118 L846.5,520.7118 C846.5,530.7118 828.5,530.7118 828.5,530.7118 C828.5,530.7118 810.5,530.7118 810.5,520.7118 L810.5,494.7118 " fill="#FEFECE" filter="url(#f10snqyaanlylh)" style="stroke:#000000;stroke-width:1.5;"/><path d="M810.5,494.7118 C810.5,504.7118 828.5,504.7118 828.5,504.7118 C828.5,504.7118 846.5,504.7118 846.5,494.7118 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106" x="856.5" y="125.4818">ChangeListener</text><ellipse cx="912.5" cy="53.5158" fill="#FEFECE" filter="url(#f10snqyaanlylh)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M912.5,61.5158 L912.5,88.5158 M899.5,69.5158 L925.5,69.5158 M912.5,88.5158 L899.5,103.5158 M912.5,88.5158 L925.5,103.5158 " fill="none" filter="url(#f10snqyaanlylh)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106" x="856.5" y="480.6099">ChangeListener</text><ellipse cx="912.5" cy="494.7118" fill="#FEFECE" filter="url(#f10snqyaanlylh)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M912.5,502.7118 L912.5,529.7118 M899.5,510.7118 L925.5,510.7118 M912.5,529.7118 L899.5,544.7118 M912.5,529.7118 L925.5,544.7118 " fill="none" filter="url(#f10snqyaanlylh)" style="stroke:#A80036;stroke-width:2.0;"/><polygon fill="#A80036" points="147.5,159.2898,157.5,163.2898,147.5,167.2898,151.5,163.2898" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="36.5" x2="153.5" y1="163.2898" y2="163.2898"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67" x="43.5" y="157.4808">HTTP POST</text><polygon fill="#A80036" points="352.5,190.9958,362.5,194.9958,352.5,198.9958,356.5,194.9958" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="159.5" x2="358.5" y1="194.9958" y2="194.9958"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="41" x="166.5" y="189.1868">handle</text><polygon fill="#A80036" points="546.5,222.7018,556.5,226.7018,546.5,230.7018,550.5,226.7018" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="364.5" x2="552.5" y1="226.7018" y2="226.7018"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="170" x="371.5" y="220.8928">getStroomZipOutputStream</text><line style="stroke:#A80036;stroke-width:1.0;" x1="780" x2="770" y1="258.4078" y2="254.4078"/><line style="stroke:#A80036;stroke-width:1.0;" x1="780" x2="770" y1="258.4078" y2="262.4078"/><line style="stroke:#A80036;stroke-width:1.0;" x1="364.5" x2="781" y1="258.4078" y2="258.4078"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="62" x="371.5" y="252.5988">Write data</text><polygon fill="#A80036" points="770,286.1138,780,290.1138,770,294.1138,774,290.1138" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="558.5" x2="776" y1="290.1138" y2="290.1138"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="565.5" y="284.3048">Add meta file</text><polygon fill="#A80036" points="770,317.8199,780,321.8199,770,325.8199,774,321.8199" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="558.5" x2="776" y1="321.8199" y2="321.8199"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82" x="565.5" y="316.0109">Unlock zip file</text><line style="stroke:#A80036;stroke-width:1.0;" x1="681" x2="671" y1="353.5259" y2="349.5259"/><line style="stroke:#A80036;stroke-width:1.0;" x1="681" x2="671" y1="353.5259" y2="357.5259"/><line style="stroke:#A80036;stroke-width:1.0;" x1="558.5" x2="682" y1="353.5259" y2="353.5259"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="64" x="565.5" y="347.7169">addSource</text><line style="stroke:#A80036;stroke-width:1.0;" x1="826.5" x2="816.5" y1="385.2319" y2="381.2319"/><line style="stroke:#A80036;stroke-width:1.0;" x1="826.5" x2="816.5" y1="385.2319" y2="389.2319"/><line style="stroke:#A80036;stroke-width:1.0;" x1="683" x2="827.5" y1="385.2319" y2="385.2319"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117" x="690" y="379.4229">Add `source` record</text><line style="stroke:#A80036;stroke-width:1.0;" x1="910.5" x2="900.5" y1="416.9379" y2="420.9379"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="683" x2="911.5" y1="416.9379" y2="416.9379"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="62" x="690" y="411.1289">onChange</text><polygon fill="#A80036" points="47.5,444.6439,37.5,448.6439,47.5,452.6439,43.5,448.6439" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="41.5" x2="158.5" y1="448.6439" y2="448.6439"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82" x="53.5" y="442.8349">200 Response</text><!--MD5=[890cc7d64c79b3fd61438a9b31c2d905]
@startuml

title Receive And Store Data

actor Supplier
participant ProxyRequestHandler
participant ProxyRepositoryStreamHandler
participant ProxyRepo
participant ProxyRepoSources
database repo
database db
actor ChangeListener

Supplier - -> ProxyRequestHandler: HTTP POST
ProxyRequestHandler -> ProxyRepositoryStreamHandler: handle
ProxyRepositoryStreamHandler -> ProxyRepo: getStroomZipOutputStream
ProxyRepositoryStreamHandler ->> repo: Write data
ProxyRepo -> repo: Add meta file
ProxyRepo -> repo: Unlock zip file
ProxyRepo ->> ProxyRepoSources: addSource
ProxyRepoSources ->> db: Add `source` record
ProxyRepoSources - -// ChangeListener: onChange
ProxyRequestHandler - -> Supplier: 200 Response


@enduml

PlantUML version 1.2021.16(Wed Dec 08 17:25:22 GMT 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: GB
--></g></svg>