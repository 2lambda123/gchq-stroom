ext.moduleName = 'elastic.shaded'

apply plugin: 'com.github.johnrengelman.shadow'
apply plugin: 'java'

dependencies {
    implementation libs.elasticsearch_rest_high_level_client
    implementation libs.elasticsearch_rest_client
    implementation libs.elasticsearch
    implementation libs.elasticsearch_core
    implementation libs.httpcore
    implementation libs.http_client
}

shadowJar {
    zip64 true

    relocate 'org.apache.lucene', 'elastic.org.apache.lucene'

    mergeServiceFiles()
}

tasks.build.dependsOn shadowJar