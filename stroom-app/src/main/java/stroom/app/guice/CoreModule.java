package stroom.app.guice;

import com.google.inject.AbstractModule;
import stroom.cache.impl.CacheHandlerModule;
import stroom.cache.impl.CacheModule;
import stroom.config.global.impl.db.GlobalConfigDbModule;
import stroom.config.global.impl.db.GlobalConfigModule;
import stroom.data.retention.impl.DataRetentionModule;
import stroom.data.store.impl.DataStoreHandlerModule;
import stroom.dataprocess.PipelineStreamTaskModule;
import stroom.dictionary.impl.DictionaryHandlerModule;
import stroom.dictionary.impl.DictionaryModule;
import stroom.dictionary.impl.DictionaryTaskHandlerModule;
import stroom.docstore.impl.DocStoreModule;
import stroom.entity.event.EntityClusterTaskModule;
import stroom.explorer.impl.ExplorerModule;
import stroom.feed.impl.FeedModule;
import stroom.importexport.impl.ImportExportHandlerModule;
import stroom.importexport.impl.ImportExportModule;
import stroom.job.impl.JobSystemModule;
import stroom.meta.impl.db.MetaDbModule;
import stroom.node.impl.NodeHandlerModule;
import stroom.node.impl.NodeModule;
import stroom.node.impl.NodeServiceModule;
import stroom.persist.EntityManagerModule;
import stroom.pipeline.cache.PipelineCacheModule;
import stroom.util.pipeline.scope.PipelineScopeModule;
import stroom.receive.ReceiveDataModule;
import stroom.receive.rules.impl.ReceiveDataRulesetModule;
import stroom.security.impl.SecurityModule;
import stroom.statistics.sql.SQLStatisticsModule;
import stroom.cluster.task.impl.ClusterTaskModule;
import stroom.task.impl.TaskModule;

public class CoreModule extends AbstractModule {
    @Override
    protected void configure() {
        install(new stroom.activity.impl.db.ActivityDbModule());
        install(new CacheModule());
        install(new CacheHandlerModule());
        install(new PipelineCacheModule());
        install(new stroom.dashboard.DashboardModule());
        install(new stroom.dashboard.logging.LoggingModule());
        install(new ReceiveDataModule());
        install(new stroom.datasource.DatasourceModule());
        install(new DictionaryModule());
        install(new DictionaryHandlerModule());
        install(new DictionaryTaskHandlerModule());
        install(new DocStoreModule());
        install(new stroom.docstore.impl.db.DBPersistenceModule());
        install(new stroom.document.DocumentModule());
        install(new stroom.elastic.impl.ElasticModule());
        install(new stroom.elastic.impl.http.HttpElasticModule());
        install(new stroom.entity.EntityModule());
        install(new stroom.entity.event.EntityEventModule());
        install(new stroom.entity.cluster.EntityClusterModule());
        install(new EntityClusterTaskModule());
        install(new ExplorerModule());
        install(new FeedModule());
        install(new stroom.feed.RemoteFeedModule());
        install(new PipelineScopeModule());
        install(new ImportExportModule());
        install(new ImportExportHandlerModule());
        install(new stroom.index.IndexModule());
        install(new stroom.index.IndexElementModule());
        install(new JobSystemModule());
        install(new stroom.kafka.impl.KafkaModule());
        install(new stroom.kafka.pipeline.KafkaPipelineModule());
        install(new stroom.event.logging.impl.EventLoggingModule());
        install(new NodeModule());
        install(new NodeHandlerModule());
        install(new NodeServiceModule());
        install(new EntityManagerModule());
        install(new stroom.pipeline.PipelineModule());
        install(new stroom.pipeline.PipelineHandlerModule());
        install(new stroom.pipeline.factory.PipelineFactoryModule());
        install(new stroom.pipeline.factory.CommonPipelineElementModule());
        install(new stroom.pipeline.factory.DataStorePipelineElementModule());
        install(new stroom.pipeline.xsltfunctions.CommonXsltFunctionModule());
        install(new stroom.pipeline.xsltfunctions.DataStoreXsltFunctionModule());
        install(new stroom.pipeline.stepping.PipelineSteppingModule());
        install(new PipelineStreamTaskModule());
        install(new DataRetentionModule());
//        install(new stroom.properties.impl.PropertyModule());
        install(new GlobalConfigModule());
        install(new GlobalConfigDbModule());
        install(new stroom.query.QueryModule());
        install(new stroom.pipeline.refdata.ReferenceDataModule());
        install(new ReceiveDataRulesetModule());
        install(new stroom.script.ScriptModule());
        install(new stroom.search.SearchModule());
        install(new stroom.search.shard.ShardModule());
        install(new stroom.search.SearchElementModule());
        install(new SecurityModule());
        install(new stroom.servicediscovery.ServiceDiscoveryModule());
        install(new stroom.servlet.ServletModule());
        install(new SQLStatisticsModule());
        install(new stroom.statistics.sql.entity.StatisticStoreModule());
        install(new stroom.statistics.sql.internal.InternalModule());
        install(new stroom.statistics.sql.rollup.SQLStatisticRollupModule());
        install(new stroom.statistics.sql.search.SQLStatisticSearchModule());
        install(new stroom.statistics.stroomstats.entity.StroomStatsStoreModule());
        install(new stroom.statistics.stroomstats.internal.InternalStatisticsModule());
        install(new stroom.statistics.stroomstats.pipeline.StatisticsElementModule());
        install(new stroom.statistics.stroomstats.rollup.StroomStatsRollupModule());
        install(new MetaDbModule());
        install(new DataStoreHandlerModule());
        install(new stroom.data.store.impl.fs.FileSystemDataStoreModule());
        install(new stroom.streamtask.StreamTaskModule());
        install(new TaskModule());
        install(new ClusterTaskModule());
        install(new stroom.ui.config.server.UiConfigModule());
        install(new stroom.visualisation.VisualisationModule());
        install(new stroom.volume.VolumeModule());
        install(new stroom.volume.VolumeHandlerModule());
        install(new stroom.cluster.lock.impl.db.ClusterLockDbModule());
        install(new stroom.job.impl.db.JobDbModule());
    }
}
